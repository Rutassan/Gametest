# Интерактивный режим кампании

Интерактивный режим позволяет играть кампанию пошагово, принимай решения по кризисам прямо в консоли и одновременно обновлять «живой» веб-дэшборд.

## Запуск

```bash
npm run play
```

После запуска отобразится приветствие и краткий статус. Все команды вводятся строчными буквами без дополнительных префиксов.

## Основные команды

- `next` — перейти к следующему кварталу. Для каждого кризиса CLI покажет варианты вмешательства и запросит выбор.
- `status` — обновить сводку по ресурсам, доверию и активным кризисам.
- `events` — список всех незавершённых кризисов с дедлайнами.
- `mode <manual|advisor|hybrid>` — переключить режим управления кампанией.
- `extend <n>` — увеличить длительность кампании ещё на _n_ кварталов.
- `save [метка]` — вручную сохранить прогресс (снимки попадают в `dist/saves`).
- `load <путь>` — загрузить сохранение (можно указать каталог или путь до `manifest.json`).
- `autosave on|off` — включить или отключить автосохранение после каждого квартала (`dist/saves/autosave`).
- `log` — последние записи журнала вмешательств.
- `report` — повторно показать отчёт за последний квартал.
- `exit` — завершить сессию.

## Сохранения и восстановление

- Каждое сохранение теперь содержит не только финальный отчёт, но и снимок живого состояния (`session.json`).
- Команда `load` использует эти данные, чтобы продолжить кампанию с того же хода, без повторного пересчёта всей симуляции.

## Живой дэшборд

- После каждого хода создаётся файл `dist/dashboard/live.json` с оперативным состоянием (активные кризисы, последняя сводка, совет, приоритеты).
- Запустите `npm run dashboard:prepare`, чтобы скопировать как итоговый `data.json`, так и живой `live.json` в `dashboard-app/public`.
- Запустите стенд `npm run dashboard:dev` и откройте вкладку «Живая кампания», чтобы отслеживать события и KPI в режиме реального времени.

## Советы

- Включите `autosave`, чтобы не терять прогресс при долгих сессиях.
- Файл `live.json` можно положить под контроль версий или делиться им с командой, чтобы наблюдать прогресс кампании без запуска CLI.
