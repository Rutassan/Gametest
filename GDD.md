# Grand Strategy Game GDD (Version 0.1)

## Видение
- Создать глубоко системную grand-strategy игру о развитии многокультурной империи в эпоху позднего Средневековья и раннего Нового времени.
- Акцент на управлении макроэкономикой, дипломатией и внутренними балансами сословий при минимальном микроменеджменте.
- Сессионный фокус на решениях уровня политики и реформ, а не на тактических сражениях.

## Целевая аудитория
- Игроки 25–45 лет с опытом в стратегиях Paradox-подобного уровня глубины.
- Любители альтернативной истории и экономических симуляторов.
- Игроки, предпочитающие долгосрочное планирование, оптимизацию систем и повествовательные кампании.

## Основная петля
1. Анализ состояния империи через ежегодные отчеты (экономика, стабильность, дипломатия).
2. Выбор стратегических приоритетов на следующий период: реформы, инвестиции, дипломатические инициативы.
3. Реализация принятых решений: распределение ресурсов между ведомствами, управление сословиями.
4. Реакция на случайные и сценарные события, корректировка курса.
5. Оценка прогресса и запуск нового хода.

### Роль игрока
- Верховный правитель империи, принимающий решения уровня государственного совета.

### Ограничения по микроконтролю
- Нет прямого контроля над боевыми единицами; конфликты моделируются абстрактно через ведомства и события.
- Управление ограничено настройкой политик, приоритетов и назначения советников.

### Темп progression
- Средний темп: каждые 3–5 ходов игрок видит ощутимый результат реформ (изменения метрик, новые опции).
- Долгосрочные проекты (индустриализация, культурная интеграция) занимают 8–12 ходов.

### Целевая длительность сессии
- 90–120 минут на кампанию из ~12 ходов.
- Возможность сохранения между ходами для игроков с меньшим свободным временем.

## Экономика
- Основана на трех ключевых ресурсах: золото, влияние, рабочая сила.
- Доход формируется регионами и налоговой политикой, расходы распределяются по ведомствам.
- Инвестиции увеличивают эффективность ведомств, но вызывают напряжение сословий.
- Макроэкономические индикаторы: стабильность, легитимность, инновации.

## Советники
- Составляют кабинет правителя, дают пассивные бонусы и особые действия.
- Каждый советник связан с определенным ведомством и сословием, влияя на их отношение.
- Смена советников требует затрат влияния и вызывает реакцию соответствующих сословий.

## Событийность
- Система событий делится на плановые (реформы, проекты) и случайные (кризисы, внешняя политика).
- Триггеры событий завязаны на метрики экономики, отношения сословий, международное положение.
- Игрок выбирает одну из 2–3 опций реакции, каждая меняет ресурсы, метрики или запускает цепочки.
- Поддерживаются три режима обработки событий, переключаемые в настройках кампании и сохраняемые в журнале:
  - **Ручной** — совет предлагает варианты, но каждое решение требует утверждения игрока; события автоматически откладываются до вмешательства.
  - **Совет** — автономная стратегия советника принимает решения, ориентируясь на текущую повестку и доступные ресурсы.
  - **Гибрид** — стандартные кризисы закрываются советом, но критичные события или низкое доверие эскалируют управление к игроку.
- Переключения режима фиксируются с указанием квартала, причины и источника (ручной выбор, расписание), что позволяет возобновлять кампанию с последнего состояния.
- В дашборде и CLI выводится актуальный режим и журнал всех переключений для прозрачности управления.

### Требования к AI-стратегии советников
- Базовая стратегия «Совет» использует прагматичный скоринг событий, учитывая стоимость опций, приоритеты повестки и доверие.
- Для ручного режима AI формирует рекомендуемую опцию и комментарий, но помечает решение как ожидающее подтверждения.
- Гибридная стратегия обязана эскалировать события с высокой серьёзностью или при доверии советнику ниже 60%, оставляя итоговое решение игроку.
- Стратегии должны возвращать заметки о причинах откладывания или выбранного варианта, чтобы поддерживать прозрачность журнала решений.
- Любые расписанные переключения режима должны синхронизироваться с выбранной стратегией, чтобы избегать конфликтов автоматических и ручных решений.

## UX-скелет
- Главный экран: обзор империи (метрики, ресурсы, активные эффекты).
- Панель регионов: карта с вкладками по регионам и их статусу.
- Экран сословий: отношения, требования, доступные компромиссы.
- Экран ведомств: бюджеты, проекты, назначение советников.
- Журнал событий: хронология решений, последствия и будущие триггеры.

## Ключевые сущности и атрибуты
### Регионы
- Атрибуты: население, богатство, лояльность, специализация (торговая, сельскохозяйственная, промышленная), уровень инфраструктуры.
- Особенности: уникальные модификаторы (климат, стратегические ресурсы).

### Сословия
- Типы: дворянство, духовенство, буржуазия, крестьянство, гильдии.
- Атрибуты: влияние, удовлетворенность, требования, вклад в ресурсы.

### Ресурсы
- Золото: финансирование ведомств и проектов.
- Влияние: политический капитал для реформ и дипломатии.
- Рабочая сила: лимит на параллельные проекты и колонизацию.

### Ведомства
- Экономика: управляет налогами и инфраструктурой, улучшает богатство регионов.
- Дипломатия: заключает союзы, торговые соглашения, влияет на международную репутацию.
- Внутренняя политика: балансирует сословия, поддерживает стабильность.
- Военное ведомство: отвечает за оборону, подготовку армии и технологические реформы.
- Наука и культура: продвигает инновации, ускоряет прогресс проектов.
- Атрибуты ведомств: бюджет, эффективность, текущие проекты, назначенный советник, уровень реформ.

## Первичная шкала времени
- Один ход = квартал.
- Экономика: налоги и доходы рассчитываются ежеквартально, позволяя гибко реагировать на кризисы.
- События: плановые реформы занимают 2–4 квартала; случайные кризисы могут возникать на любом квартале, но вероятность увеличивается при низкой стабильности.
- Прогресс проектов: базовое время — 1–3 квартала, модифицируется эффективностью ведомств и отношениями сословий.

## Версия документа
- Утверждено как version 0.1. Документ готов к последующему расширению и детализации.
